# ğŸ”¥ Souls DEX - Merkeziyetsiz Borsa Oyunu

> *"To gain Intelligence, you must sacrifice Faith.*  
> *To gain Faith, you must sacrifice Intelligence."*

âš¡ **Sacrifice to Ascend** âš¡

---

## ï¿½ Proje HakkÄ±nda

**Souls DEX**, AMM (Automated Market Maker) ve merkeziyetsiz borsa mantÄ±ÄŸÄ±nÄ±n daha iyi kavranabilmesi iÃ§in geliÅŸtirilmiÅŸ, **eÄŸitici ve eÄŸlenceli bir blockchain oyunudur**. 

Bu proje, karmaÅŸÄ±k DeFi (Decentralized Finance) kavramlarÄ±nÄ± **Dark Souls** evreninden ilham alan bir tema ile birleÅŸtirerek, Ã¶ÄŸrenmeyi eÄŸlenceli hale getirir. Oyuncular, Intelligence (INT) ve Faith (FTH) tokenlarÄ± arasÄ±nda swap yaparak, likidite saÄŸlayarak ve seviye atlayarak hem blockchain teknolojilerini Ã¶ÄŸrenir hem de stratejik bir oyun deneyimi yaÅŸar.

**Uniswap V2** constant product formula (x*y=k) Ã¼zerine kurulu olan bu DEX, gerÃ§ek dÃ¼nya DeFi protokollerinin nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± anlamak iÃ§in mÃ¼kemmel bir Ã¶ÄŸrenme aracÄ±dÄ±r. %1 swap fee mekanizmasÄ±, likidite saÄŸlama teÅŸvikleri, ve gÃ¼venlik Ã¶zellikleri ile production-grade bir DeFi uygulamasÄ±nÄ±n tÃ¼m temel bileÅŸenlerini iÃ§erir.

**Ã–ÄŸrenme Hedefleri:**
- ğŸ”„ AMM mekanizmasÄ± ve constant product formula
- ğŸ’§ Likidite havuzlarÄ± ve LP token'lar
- ğŸ’° Fee mekanizmalarÄ± ve daÄŸÄ±tÄ±mÄ±
- ğŸ” Smart contract gÃ¼venliÄŸi (Reentrancy Guard, access control)
- âš¡ Blockchain etkileÅŸimi (Viem kÃ¼tÃ¼phanesi)
- ğŸ® Gamification ile DeFi

---

## ï¿½ğŸ® Token Sembolleri

<p align="center">
  <img src="assets/intelligence_logo.png" width="250" alt="Intelligence Token"/>
  <img src="assets/faith_logo.png" width="250" alt="Faith Token"/>
</p>

### ğŸ§  Intelligence (INT)
Bilgi ve bÃ¼yÃ¼nÃ¼n gÃ¼cÃ¼. Sihirbazlar ve bilginler bu Ã¶zelliÄŸi geliÅŸtirir.  
YÃ¼ksek Intelligence, gÃ¼Ã§lÃ¼ bÃ¼yÃ¼ler ve karmaÅŸÄ±k stratejiler saÄŸlar.

### ğŸ™ Faith (FTH)
Mucizeler ve adanmÄ±ÅŸlÄ±ÄŸÄ±n gÃ¼cÃ¼. Rahipler ve ÅŸÃ¶valyeler bu Ã¶zelliÄŸi geliÅŸtirir.  
YÃ¼ksek Faith, kutsal bÃ¼yÃ¼ler ve koruma saÄŸlar.

---

## ğŸ“– Hikaye

**Souls DEX**, Tarnished'larÄ±n bir Ã¶zelliÄŸi gÃ¼Ã§lendirmek iÃ§in diÄŸerini feda ettiÄŸi kutsal bir yerdir. AMM (Automated Market Maker) mekanizmasÄ± sayesinde, her fedakarlÄ±k dengeyi korur:

```
x * y = k
```

---

## ğŸ® Seviye, Rank & Class Sistemi

### Seviye Hesaplama
```
Level = (INT Tokens / 100) + (FTH Tokens / 100)
```

**Ã–rnek:**
- 500 INT + 500 FTH = Level 10

### Rank Sistemi

| Level | Rank | Emoji | AÃ§Ä±klama |
|-------|------|-------|----------|
| 0-9 | **Survivor** | ğŸ”ª | Hayatta kalan, mÃ¼cadele eden |
| 10-19 | **Warrior** | âš”ï¸ | Deneyimli savaÅŸÃ§Ä± |
| 20+ | **Legend** | ğŸŒŸ | Usta, efsanevi gÃ¼Ã§ |

### Class Sistemi

TokenlarÄ±nÄ±n daÄŸÄ±lÄ±mÄ±na gÃ¶re otomatik class belirlenir:

| Class | Emoji | KoÅŸul | AÃ§Ä±klama |
|-------|-------|-------|----------|
| **BÃ¼yÃ¼cÃ¼** | ğŸ”® | INT > FTH | Sihir ve zeka odaklÄ± |
| **Rahip** | âœ¨ | FTH > INT | Ä°nanÃ§ ve mucize odaklÄ± |
| **GÃ¼nahkar** | ğŸ­ | INT = FTH | Dengeli, her iki gÃ¼Ã§ |

---

## âœ¨ Ã–zellikler

### Ana MenÃ¼
- âš¡ **Likidite Ekle** - Havuza INT + FTH ekle
- âš”ï¸ **Swap (FedakarlÄ±k)** - Bir Ã¶zelliÄŸi diÄŸeriyle takas et (%1 fee)
- ğŸ’€ **Ruh Transferi** - BaÅŸka Tarnished'lara token gÃ¶nder
- ğŸª™ **Mint (Founder Only)** - Sadece kurucu yeni token basabilir
- ğŸ”„ **Wallet DeÄŸiÅŸtir** - Private key ile gÃ¼venli geÃ§iÅŸ
- ğŸ“Š **Seviyemi GÃ¶r** - Kendi level, rank ve class'Ä±nÄ± gÃ¶r
- ğŸ‘¥ **TÃ¼m Tarnished'lar** - TÃ¼m savaÅŸÃ§Ä±larÄ±n seviyelerini gÃ¶r
- ğŸ’§ **Havuz Bilgileri** - Pool rezervleri ve fiyat oranlarÄ±
- ğŸ“ˆ **YÃ¼kseliÅŸ Ä°statistikleri** - Oyun sÃ¼ren, token deÄŸiÅŸimi, geliÅŸim yÃ¼zdesi
- ğŸ›¡ï¸ **GÃ¼venlik Sistemleri** - 4 aktif gÃ¼venlik Ã¶zelliÄŸi

### GÃ¼venlik Ã–zellikleri (4/4 Aktif)
1. âœ… **Reentrancy Guard** - TekrarlÄ± Ã§aÄŸrÄ± saldÄ±rÄ±sÄ± korumasÄ±
2. âœ… **Private Key Authentication** - Wallet deÄŸiÅŸtirmek iÃ§in private key gerekli
3. âœ… **Proportional Liquidity** - Havuz oranÄ±nÄ± korur, manipÃ¼lasyonu Ã¶nler
4. âœ… **Owner-Only Minting** - Sadece founder token basabilir

---

## ğŸ› ï¸ Teknolojiler

### Blockchain
- **Solidity** ^0.8.23
- **Foundry** (Anvil local blockchain)
- **OpenZeppelin** Contracts (ERC20, ReentrancyGuard)

### Smart Contracts
- `MockToken.sol` - ERC20 token (Intelligence & Faith)
- `SoulsDEX.sol` - AMM DEX (Uniswap V2 mantÄ±ÄŸÄ± + %1 fee)

### JavaScript
- **Viem** - Blockchain etkileÅŸimi
- **Inquirer** - Ä°nteraktif CLI menÃ¼
- **Node.js** - Runtime

---

## ğŸš€ Kurulum

### Gereksinimler
- Node.js v18+
- Foundry (Anvil)

### AdÄ±mlar

1. **Projeyi klonla**
```bash
git clone <repo-url>
cd dex-proje
```

2. **BaÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kle**
```bash
npm install
```

3. **Anvil'i baÅŸlat** (AyrÄ± bir terminal)
```bash
npm run anvil
```

4. **UygulamayÄ± baÅŸlat**
```bash
npm start
```

---

## ğŸ® Ä°lk Ã‡alÄ±ÅŸtÄ±rma (Deployment)

Ä°lk kez `npm start` Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nda, interaktif deployment baÅŸlar:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          âš¡ SOULS DEX âš¡                  â•‘
â•‘       "Sacrifice to Ascend"               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  Kontratlar henÃ¼z deploy edilmemiÅŸ!

? Deployment baÅŸlasÄ±n mÄ±? (Y/n)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ADIM 1: ğŸ§  Intelligence Token Deploy
? Kendi adresine kaÃ§ INT basÄ±lsÄ±n? 1600
âœ… Deployed: 0xabc... (Blok #1)

ADIM 2: ğŸ™ Faith Token Deploy
? Kendi adresine kaÃ§ FTH basÄ±lsÄ±n? 400
âœ… Deployed: 0xdef... (Blok #2)

ADIM 3: ğŸ”¥ SoulsDEX Deploy
âœ… Deployed: 0x123... (Blok #3)

ADIM 4: âš”ï¸  DiÄŸer Tarnished'lara Ruh DaÄŸÄ±t
â†’ 9 adrese 500 INT + 500 FTH
âœ… DaÄŸÄ±tÄ±m tamamlandÄ±! (Blok #4-21)

ADIM 5: ğŸ’§ Havuza Ä°lk Likidite
â†’ 5000 INT + 5000 FTH
âœ… Likidite eklendi! (Blok #22)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ‰ Deployment TamamlandÄ±!
ğŸ“ .env dosyasÄ± gÃ¼ncellendi
ğŸ“Š YÃ¼kseliÅŸ istatistikleri kaydedildi

âš¡ Ana menÃ¼ye geÃ§iliyor...
```

### BaÅŸlangÄ±Ã§ DaÄŸÄ±lÄ±mÄ±
- **Founder (Wallet #0)**: Kendi seÃ§imi (Ã¶rn: 1600 INT, 400 FTH = Level 20, Legend, BÃ¼yÃ¼cÃ¼)
- **DiÄŸer 9 Tarnished**: 500 INT + 500 FTH (Level 10 - Warrior, GÃ¼nahkar)
- **DEX Havuzu**: 5000 INT + 5000 FTH (dÃ¼ÅŸÃ¼k price impact)

---

## ğŸ® Ana MenÃ¼

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          ğŸ”¥ SOULS DEX ğŸ”¥                  â•‘
â•‘       "Sacrifice to Ascend"               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¡ Anvil RPC: http://127.0.0.1:8545
âš°ï¸  Current Tarnished: 0xf39F...
âš”ï¸ Rank: Warrior (Level 17)
ğŸ”® Class: BÃ¼yÃ¼cÃ¼

? Ne yapmak istersin?

  âš¡ Likidite Ekle
  âš”ï¸  Swap (FedakarlÄ±k)
  ğŸ’€ Ruh Transferi
  ğŸª™ Token Mint Et (Sadece Founder)
  ğŸ”„ Wallet DeÄŸiÅŸtir
  ğŸ“Š Seviyemi GÃ¶r
  ğŸ‘¥ TÃ¼m Tarnished Seviyelerini GÃ¶rÃ¼ntÃ¼le
  ğŸ’§ Havuz Bilgilerini GÃ¶r
  ğŸ“ˆ YÃ¼kseliÅŸ Ä°statistikleri
  ğŸ›¡ï¸  GÃ¼venlik Sistemleri
  ğŸ”¥ Ã‡Ä±kÄ±ÅŸ
```

---

## ğŸ¯ KullanÄ±m Ã–rnekleri

### 1. Swap (FedakarlÄ±k)
```
? Hangi Ã¶zelliÄŸini feda edeceksin?
â¯ Intelligence â†’ Faith (BilgeliÄŸi feda et)
  Faith â†’ Intelligence (Ä°nancÄ± feda et)

? FedakarlÄ±k miktarÄ±: 100

â³ FedakarlÄ±k sunuluyor...
âœ… FedakarlÄ±ÄŸÄ±n kabul edildi! (Blok #45)

Fee: 1 INT (%1)
AlÄ±nan: ~99 FTH
```

### 2. Wallet DeÄŸiÅŸtir (Private Key)
```
=== ğŸ”„ WALLET DEÄÄ°ÅTÄ°R ===

âš ï¸  Private key gereklidir!

? Private key girin: ************************************************************

âœ… Wallet doÄŸrulandÄ±!
âœ… DeÄŸiÅŸtirildi: 0x7099...
âš”ï¸ Warrior (Level 10)
ğŸ­ HoÅŸgeldin, GÃ¼nahkar!
```

### 3. YÃ¼kseliÅŸ Ä°statistikleri
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ“ˆ YÃœKSELÄ°Å Ä°STATÄ°STÄ°KLERÄ° ğŸ“ˆ               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â±ï¸  Oyun SÃ¼resi: 15 dakika 32 saniye

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§  INTELLIGENCE
   BaÅŸlangÄ±Ã§: 500 INT
   Åu An:     650 INT
   DeÄŸiÅŸim:   +150 INT (+30%)
   GeliÅŸim:   â¬†ï¸ Artan

ğŸ™ FAITH
   BaÅŸlangÄ±Ã§: 500 FTH
   Åu An:     420 FTH
   DeÄŸiÅŸim:   -80 FTH (-16%)
   GeliÅŸim:   â¬‡ï¸ Azalan

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš¡ TOPLAM YÃœKSELÄ°Å
   BaÅŸlangÄ±Ã§ Toplam: 1000 token
   Åu Anki Toplam:   1070 token
   Net GeliÅŸim:      +70 token (+7%)
   
   Seviye: 10 â†’ 10 (DeÄŸiÅŸmedi)
   Rank:   âš”ï¸ Warrior
   Class:  ğŸ”® BÃ¼yÃ¼cÃ¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ BÃ¼yÃ¼cÃ¼ yolunda ilerliyorsun! Intelligence artÄ±yor.
```

### 4. TÃ¼m Tarnished Seviyeleri
```
=== ğŸ‘¥ TÃœM TARNISHED SEVÄ°YELERÄ° ===

 #  Address          INT   FTH   Level  Rank              Class
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 0  0xf39F...       1600   400    20   ğŸŒŸ Legend         ğŸ”® BÃ¼yÃ¼cÃ¼
 1  0x7099...        500   500    10   âš”ï¸ Warrior        ğŸ­ GÃ¼nahkar
 2  0x3C44...        500   500    10   âš”ï¸ Warrior        ğŸ­ GÃ¼nahkar
 3  0x9096...        200   100     3   ğŸ”ª Survivor       ğŸ”® BÃ¼yÃ¼cÃ¼
 ...
```

---

## ğŸ§ª Teknik Detaylar

### AMM MekanizmasÄ± (Uniswap V2 + %1 Fee)

**Constant Product Formula:**
```
reserveIntelligence * reserveFaith = k (constant)
```

**Swap Hesaplama (with 1% fee):**
```
amountInWithFee = amountIn * 990  // %1 fee
amountOut = (amountInWithFee * reserveOut) / (reserveIn * 1000 + amountInWithFee)
```

**Price Impact:**
- 5000'lik havuz sayesinde dÃ¼ÅŸÃ¼k slippage
- 100 token swap â†’ ~%2 impact
- 500 token swap â†’ ~%9 impact

**Fee Distribution:**
- %1 fee havuzda kalÄ±r
- Likidite saÄŸlayanlar orantÄ±lÄ± olarak kazanÄ±r
- ~680 swap sonra baÅŸabaÅŸ (100 token likidite iÃ§in)

### Seviye & Class Sistemi
- **Dinamik hesaplama**: Her sorguda gÃ¼ncel bakiye
- **Rank gÃ¶sterimi**: Emoji + isim (Survivor/Warrior/Legend)
- **Class belirleme**: INT vs FTH karÅŸÄ±laÅŸtÄ±rmasÄ±
- **Tablo formatÄ±**: TÃ¼m Tarnished'lar iÃ§in dÃ¼zenli gÃ¶rÃ¼nÃ¼m

### YÃ¼kseliÅŸ Ä°statistikleri
- **Oyun sÃ¼resi**: Deployment'tan itibaren
- **Token deÄŸiÅŸimi**: BaÅŸlangÄ±Ã§ vs ÅŸu anki
- **GeliÅŸim yÃ¼zdesi**: Her token iÃ§in ayrÄ±
- **Dinamik mesajlar**: Class'a gÃ¶re Ã¶zelleÅŸtirilmiÅŸ

---

## ğŸ“ Proje YapÄ±sÄ±

```
dex-proje/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ MockToken.sol       # ERC20 token (owner-only mint)
â”‚   â””â”€â”€ SoulsDEX.sol         # AMM DEX kontratÄ± (%1 fee)
â”œâ”€â”€ script/
â”‚   â””â”€â”€ app.js              # TEK ANA SCRIPT (tÃ¼m Ã¶zellikler)
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ intelligence_logo.png  # INT token logosu
â”‚   â””â”€â”€ faith_logo.png         # FTH token logosu
â”œâ”€â”€ .env                    # Kontrat adresleri
â”œâ”€â”€ stats.json              # YÃ¼kseliÅŸ istatistikleri
â”œâ”€â”€ ANVIL_ACCOUNTS.txt      # Anvil private keys (gitignore)
â”œâ”€â”€ foundry.toml            # Foundry konfigÃ¼rasyonu
â””â”€â”€ package.json            # Node.js baÄŸÄ±mlÄ±lÄ±klarÄ±
```

---

## ğŸ¯ Ã–ÄŸrenilen Kavramlar

- âœ… **AMM (Automated Market Maker)** - Uniswap V2 mantÄ±ÄŸÄ±
- âœ… **Constant Product Formula** - x * y = k
- âœ… **Fee Mechanism** - %1 swap fee ve daÄŸÄ±tÄ±mÄ±
- âœ… **Price Impact** - BÃ¼yÃ¼k iÅŸlemlerin fiyata etkisi
- âœ… **Liquidity Pools** - Likidite havuzlarÄ± nasÄ±l Ã§alÄ±ÅŸÄ±r
- âœ… **ERC20 Token Standard** - OpenZeppelin implementasyonu

---

## ğŸ‘¥ Ekip

- **Yusuf BÃ¼rlÃ¼kkara**
- **Feyyaz**

**ITU Blockchain** - 7. Hafta Projesi

---

## ğŸ“œ Lisans

MIT License

---

## ğŸ”— Kaynaklar

- [Uniswap V2 Docs](https://docs.uniswap.org/contracts/v2/overview)
- [Viem Documentation](https://viem.sh)
- [Foundry Book](https://book.getfoundry.sh)
- [OpenZeppelin Contracts](https://docs.openzeppelin.com/contracts)

---

âš”ï¸ **Praise the Sun!** â˜€ï¸
